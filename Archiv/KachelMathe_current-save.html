<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    
<!-- Main Container -->
<div class="igel_app-container">
    <!-- Main Content Wrapper -->
    <div class="igel_wrapper">
        <!-- Hero Section -->
        <div class="igel_hero-container">
            <div class="igel_hero-content">
                <!-- Wrapper for logo and title -->
                <div class="igel_header-group">
                    <!-- Logo -->
                    <div class="igel_logo-container2">
                        <img class="img-fluid atto_image_button_text-top" style="border-radius: 10px;"
                            src="https://lms.lernen.hamburg/draftfile.php/1491881/user/draft/223569128/IGEL-Logo_1000x937.png"
                            alt="IGEL Logo" width="450" height="422">
                    </div>
                    <!-- Title -->
                    <div class="igel_title-container">
                        <h1 id="heading-mathematik" class="igel_main-title">MATHEMATIK</h1>
                    </div>
                </div>

                <!-- Features List - Now Tabs -->
                <div class="igel_features-container">
                    <p class="igel_outro">Hier finden Sie folgende Infos:</p>

                    <!-- Tab Navigation -->
                    <div class="igel_tab-container">
                        <div class="igel_tabs">
                            <div class="igel_tab igel_tab-active" data-feature-id="mathcloud"
                                title="Die MathCloud des LI">
                                <i class="fa fa-plus-minus"></i>
                                <span>Die MathCloud</span>
                            </div>
                            <div class="igel_tab" data-feature-id="mathcloud-nav"
                                title="Hinweise zur Navigation in der MathCloud">
                                <i class="fa fa-route"></i>
                                <span>Navigation</span>
                            </div>
                            <div class="igel_tab" data-feature-id="mathcloud-grundsaetze"
                                title="5 Grundsätze für die Förderung im Fach Mathematik">
                                <i class="fa fa-seedling"></i>
                                <span>5 Grundsätze</span>
                            </div>
                            <div class="igel_tab" data-feature-id="mathcloud-contact" title="Wünsche oder Anregungen">
                                <i class="fa fa-comment-dots"></i>
                                <span>Kontakt</span>
                            </div>
                        </div>

                        <!-- Tab Content -->
                        <div class="igel_tab-content">
                            <!-- MathCloud Content -->
                            <div class="igel_tab-panel igel_active-panel" data-feature="mathcloud">
                                <h4>Die MathCloud enthällt:</h4>
                                <ul>
                                    <li class="bs_ul-caption">Materialdatenbank</li>
                                    <li>eine <a href="https://mathcloud.li-hamburg.de/?FachbereichID=1&main=Material"
                                            target="_blank">Materialdatenbank</a>,
                                        auf der man anhand von Filtern gezielt Materialien suchen und downloaden
                                        kann, und</li>

                                    <li class="bs_ul-caption">Förderkurse</li>
                                    <li>so genannte <a
                                            href="https://mathcloud.li-hamburg.de/?FachbereichID=1&main=Kurse"
                                            target="_blank">Förderkurse</a>,
                                        Materialzusammenstellungen zu zentralen Lerninhalten des
                                        Mathematikunterrichts. Diese bieten auch Vorschläge zur Strukturierung
                                        der Lerninhalte in einer Fördermaßnahme.</li>
                                </ul>

                                <p class="bs_ul-caption">Infos zur MathCloud</p>
                                <ul>
                                    <li>Alle Materialien der MathCloud beziehen sich auf zentrale Lerninhalte
                                        des Mathematikunterrichts in Hamburg.</li>
                                    <li>Sicherstellung, dass Schülerinnen und Schüler im Förderunterricht mit
                                        den gleichen oder ähnlichen Materialien arbeiten wie im Regelunterricht.
                                    </li>
                                    <li>Überwiegend stammen die Materialien vom Deutschen Zentrum für
                                        Lehrkräftebildung Mathematik (DZLM).</li>
                                    <li>Verwendung der Materialien in Hamburger Mathematikprogrammen, z.B. in
                                        "Mathe sicher können".</li>
                                    <li>Die MathCloud umfasst derzeit Material für die Jahrgänge 4 bis 10.</li>
                                    <li>Weitere Inhalte werden sukzessive ergänzt.</li>
                                </ul>
                            </div>

                            <!-- Navigation Content -->
                            <div class="igel_tab-panel" data-feature="mathcloud-nav">
                                <h4>So navigieren Sie in der MathCloud</h4>
                                <p dir="ltr"></p><span>Navigieren Sie über die Menüzeile oben links durch die
                                    MathCloud:</span><br>
                                <p></p>
                                <p dir="ltr"><img
                                        src="https://lms.lernen.hamburg/draftfile.php/1491881/user/draft/223569128/Men%C3%BCzeile_MathCloud.PNG"
                                        alt="" width="449" height="57" role="presentation"><br></p>
                                <p dir="ltr"><span><br></span></p>
                                <p dir="ltr"><span>Oben links unter "Mathematik" finden Sie ein Dropdown-Menü,
                                        in dem Sie</span></p>
                                <ul>
                                    <li><span>über&nbsp;</span><strong>Förderung</strong><span>&nbsp;zu den
                                            Förderkursen,</span></li>
                                    <li><span>über&nbsp;</span><strong>Material</strong>&nbsp;zur
                                        Materialübersicht/-datenbank und</li>
                                    <li>über&nbsp;<strong>Fortbildung</strong>&nbsp;zum Fortbildungsangebot
                                        Mathematik des Landesinstituts gelangen.</li>
                                </ul>
                                <p><br></p>
                                <p><img src="https://lms.lernen.hamburg/draftfile.php/1491881/user/draft/223569128/Navigation_MathCloud.PNG"
                                        alt="" width="200" height="144" role="presentation"></p>
                                <p dir="ltr"><span style="font-size: 0.9375rem;"><br></span></p>
                                <p dir="ltr"><span style="font-size: 0.9375rem;">Sie können über das
                                        Feld&nbsp;</span><strong style="font-size: 0.9375rem;">Suche</strong><span
                                        style="font-size: 0.9375rem;">&nbsp;nach Inhalten suchen oder
                                        den&nbsp;</span><strong style="font-size: 0.9375rem;">Filter&nbsp;</strong><span
                                        style="font-size: 0.9375rem;">nutzen, um nach bestimmten Kategorien eine
                                        Vorauswahl zu treffen:</span></p>
                                <p dir="ltr"><img
                                        src="https://lms.lernen.hamburg/draftfile.php/1491881/user/draft/223569128/Filter_MathCloud.PNG"
                                        alt="" width="200" height="241" role="presentation"></p>
                                <p dir="ltr"><span>Den von Ihnen gesetzten Filter können Sie im linken
                                        Dropdown-Menü über&nbsp;</span><strong>Filter
                                        löschen&nbsp;</strong><span>(unten)&nbsp;</span><span>zurücksetzen.</span>
                                </p>
                            </div>

                            <!-- 5 Grundsätze Content -->
                            <div class="igel_tab-panel" data-feature="mathcloud-grundsaetze">
                                <h4>Die 5 Grundsätze</h4>
                                ### Hier folgt das interaktive Buch ###
                            </div>

                            <!-- Kontakt Content -->
                            <div class="igel_tab-panel" data-feature="mathcloud-contact">
                                <h4>Ihre Ansprechperson</h4>
                                <p dir="ltr" style="text-align: left;">Haben Sie <strong>Wünsche oder
                                        Anregungen</strong>? Dann kontaktieren Sie gern das Referat Mathematik
                                    (LIF 12) des Landesinstituts Hamburg. Ansprechperson: <strong>Dr. Astrid
                                        Deseniss</strong>, Referatsleitung Mathematik und Informatik: <strong><a
                                            href="mailto:astrid.deseniss@li.hamburg.de?subject=MathCloud">astrid.deseniss@li.hamburg.de</a></strong>
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>




<script>
    /* ### CC-BY bildungssprit GbR | Falk Szyba @medienrocker ### */

    /**
     * IGEL Menu System - Tab-Based Menu Version
     * This script manages the functionality for:
     * 1. Link icon addition and styling
     * 2. Tab-based navigation and content display
     * 3. HOME icon addition
     * 4. Element animations
     * 5. Favicon customization 
     */

    // Common configuration object for easy maintenance
    const CONFIG = {
        // Selectors
        tabSelector: '.igel_tab',
        tabActiveClass: 'igel_tab-active',
        panelSelector: '.igel_tab-panel',
        panelActiveClass: 'igel_active-panel',
        animateClass: '.igel_animate-in-up',
        animateActiveClass: 'igel_animate-active',

        // Animation options
        animationDuration: 300,
        animationThreshold: 0.3,

        // Trusted domains for external links
        trustedDomains: [
            'mathcloud.li-hamburg.de',
            // Add other trusted domains here
        ]
    };

    /**
     * Module for logging errors consistently
     */
    const ErrorHandler = {
        logError: (context, error) => {
            console.error(`IGEL System - ${context}:`, error);
        }
    };

    /**
     * Module for managing link styling
     */
    const LinkStyler = {
        /**
         * Add icons to links based on whether they're internal or external
         * @param {HTMLElement} container - The container element to find links in
         */
        addLinkIcons: (container) => {
            // Get current hostname for comparison
            const currentHostname = window.location.hostname;

            if (!container) return;

            // Find ALL links in the container
            const links = container.querySelectorAll('a[href]');

            links.forEach(link => {
                // Skip if already has any icon or contains media
                const hasMedia = link.querySelector('img, video, svg, canvas, .moodle-icon, .fa');
                if (hasMedia) return;

                try {
                    // Create URL object (this will handle both absolute and relative URLs)
                    const url = new URL(link.href, window.location.origin);

                    const isExternal = url.hostname !== currentHostname;

                    // Check if domain is in trusted list
                    const isTrustedDomain = CONFIG.trustedDomains.some(domain =>
                        url.hostname === domain || url.hostname.endsWith('.' + domain)
                    );

                    // Skip Moodle system links
                    const isMoodleSystem = (url) => {
                        const moodlePatterns = [
                            /\/mod\/((?!(data\/view\.php|page\/view\.php)).)*$/, // Matches mod/ paths except data/view.php and page/view.php
                            /\/user\//,
                            /\/grade\//,
                            /\/group\//,
                            /\/message\//,
                            /\/calendar\//
                        ];
                        return moodlePatterns.some(pattern => pattern.test(url.pathname));
                    };

                    if (!isMoodleSystem(url)) {
                        if (isExternal || isTrustedDomain) {
                            // External link
                            link.innerHTML += ' <i class="fa fa-external-link" aria-hidden="true" title="Externer Link"></i>';
                            link.innerHTML += '<span class="sr-only">(Opens in new window)</span>';
                            link.setAttribute('target', '_blank');
                            link.setAttribute('rel', 'noopener noreferrer');
                        } else {
                            // Internal link
                            link.innerHTML += ' <i class="fa fa-link" aria-hidden="true" title="Interner Link"></i>';
                            link.innerHTML += '<span class="sr-only">(Internal link)</span>';
                        }
                    }
                } catch (e) {
                    ErrorHandler.logError('Processing link', e);
                    // Handle relative URLs or invalid URLs
                    if (link.href && !hasMedia && !link.querySelector('.fa')) {
                        link.innerHTML += ' <i class="fa fa-external-link" aria-hidden="true" title="Externer Link"></i>';
                        link.innerHTML += '<span class="sr-only">(Internal link)</span>';
                    }
                }
            });
        }
    };

    /**
     * Module for managing tab-based navigation
     */
    const TabManager = {
        /**
         * Activate a specific tab and show its content
         * @param {string} featureId - ID of the tab/panel to activate
         */
        activateTab: (featureId) => {
            try {
                const tabs = document.querySelectorAll(CONFIG.tabSelector);
                const panels = document.querySelectorAll(CONFIG.panelSelector);

                // Update tab states
                tabs.forEach(tab => {
                    if (tab.getAttribute('data-feature-id') === featureId) {
                        tab.classList.add(CONFIG.tabActiveClass);
                    } else {
                        tab.classList.remove(CONFIG.tabActiveClass);
                    }
                });

                // Update panel visibility
                panels.forEach(panel => {
                    if (panel.getAttribute('data-feature') === featureId) {
                        panel.classList.add(CONFIG.panelActiveClass);
                    } else {
                        panel.classList.remove(CONFIG.panelActiveClass);
                    }
                });
            } catch (error) {
                ErrorHandler.logError('Tab Activation', error);
            }
        },

        /**
         * Initialize tab functionality
         */
        init: () => {
            try {
                const tabs = document.querySelectorAll(CONFIG.tabSelector);

                // Add click event listeners to tabs
                tabs.forEach(tab => {
                    tab.addEventListener('click', function () {
                        const featureId = this.getAttribute('data-feature-id');
                        TabManager.activateTab(featureId);
                    });

                    // Add hover effect
                    tab.addEventListener('mouseenter', () => {
                        tab.style.cursor = 'pointer';
                    });
                });
            } catch (error) {
                ErrorHandler.logError('Tab Initialization', error);
            }
        }
    };

    /**
     * Module for handling animations
     */
    const AnimationManager = {
        /**
         * Initialize animations
         */
        init: () => {
            // Set up IntersectionObserver for animations
            const observer = new IntersectionObserver((entries, observer) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        // Only animate once
                        if (!entry.target.classList.contains(CONFIG.animateActiveClass)) {
                            entry.target.classList.add(CONFIG.animateActiveClass);
                            console.log('Animation triggered for:', entry.target);
                            observer.unobserve(entry.target);
                        }
                    }
                });
            }, { threshold: CONFIG.animationThreshold });

            // Observe all animated elements
            document.querySelectorAll(CONFIG.animateClass).forEach(el => observer.observe(el));
        }
    };

    /**
     * Module for favicon management
     */
    const FaviconManager = {
        /**
         * Change the favicon
         * @param {string} src - Source path for the favicon
         */
        changeFavicon: (src) => {
            // Search for existing favicon link
            let link = document.querySelector("link[rel='icon']") ||
                document.querySelector("link[rel='shortcut icon']");

            // Create new link if none found
            if (!link) {
                link = document.createElement('link');
                link.rel = 'icon';
                document.head.appendChild(link);
            }

            // Set the new favicon path
            link.href = src;
        }
    };

    /**
     * Module for home icon addition
     */
    const HomeIconManager = {
        /**
         * Add home icons to navigation items
         */
        addHomeIcons: () => {
            // Query all <a> elements inside an <h3> with class "sectionname"
            const anchors = document.querySelectorAll("h3.sectionname a");

            anchors.forEach(function (anchor) {
                // Check if the anchor text begins with "HOME" (after trimming whitespace)
                if (anchor.textContent.trim().startsWith("HOME") && !anchor.querySelector('.fa-home')) {
                    // Insert the icon HTML at the beginning of the anchor element
                    anchor.insertAdjacentHTML('afterbegin',
                        '<i class="fa fa-home" aria-hidden="true" style="margin-right: 4px; font-size: 1rem;"></i>');
                    console.log("Inserted home icon into anchor:", anchor);
                }
            });
        }
    };

    /**
     * Initialize the application when DOM is fully loaded
     */
    document.addEventListener('DOMContentLoaded', () => {
        try {
            // Process links in the main content
            const contentArea = document.querySelector('#region-main, .course-content');
            if (contentArea) {
                LinkStyler.addLinkIcons(contentArea);
            }

            // Set up observer for dynamically added content
            const tabContent = document.querySelector('.igel_tab-content');
            if (tabContent) {
                const observer = new MutationObserver((mutations) => {
                    mutations.forEach(mutation => {
                        if (mutation.addedNodes) {
                            mutation.addedNodes.forEach(node => {
                                if (node.nodeType === Node.ELEMENT_NODE) {
                                    LinkStyler.addLinkIcons(node);
                                }
                            });
                        }
                    });
                });
                observer.observe(tabContent, { childList: true, subtree: true });
            }

            // Update current year in footer if needed
            const yearSpan = document.getElementById('igel_current-year');
            if (yearSpan) {
                yearSpan.textContent = new Date().getFullYear();
            }

            // Initialize tab navigation
            TabManager.init();

            // Initialize animations
            AnimationManager.init();

            // Add HOME icons
            HomeIconManager.addHomeIcons();

            // Set custom favicon
            FaviconManager.changeFavicon('./favicon-128x128.png');

        } catch (error) {
            ErrorHandler.logError('Initialization', error);
        }
    });


</script>

</body>
</html>